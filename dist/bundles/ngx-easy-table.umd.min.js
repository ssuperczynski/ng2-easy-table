!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("rxjs/Observable"),require("rxjs/add/observable/from"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/reduce"),require("rxjs/add/operator/groupBy"),require("@angular/common"),require("ngx-pagination")):"function"==typeof define&&define.amd?define(["exports","@angular/core","rxjs/Observable","rxjs/add/observable/from","rxjs/add/operator/mergeMap","rxjs/add/operator/reduce","rxjs/add/operator/groupBy","@angular/common","ngx-pagination"],n):n(e["ngx-easy-table"]={},e.ng.core,e.Rx,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.ng.common,e.ngxPagination)}(this,function(e,n,t,o,r,a,i,s,c){"use strict";function l(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var o,r,a=t.call(e),i=[];try{for(;(void 0===n||n-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(s){r={error:s}}finally{try{o&&!o.done&&(t=a["return"])&&t.call(a)}finally{if(r)throw r.error}}return i}function d(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(l(arguments[n]));return e}var g=function(){function e(){this.data=[],this.order=[]}return e.prototype.sortBy=function(e){var n=this;return this.key=e,0===Object.keys(this.order).length&&(this.order[this.key]="asc"),"asc"===this.order[this.key]?(this.order=[],this.order[this.key]="desc",this.data.sort(function(e,t){return n.compare(e,t)})):(this.order=[],this.order[this.key]="asc",this.data.sort(function(e,t){return n.compare(t,e)})),this.data},e.prototype.compare=function(e,n){if(isNaN(parseFloat(e[this.key]))||!isFinite(e[this.key])||isNaN(parseFloat(n[this.key]))||!isFinite(n[this.key])){if(e[this.key]+"".toLowerCase()<n[this.key]+"".toLowerCase())return-1;if(e[this.key]+"".toLowerCase()>n[this.key]+"".toLowerCase())return 1}else{if(parseFloat(e[this.key])<parseFloat(n[this.key]))return-1;if(parseFloat(e[this.key])>parseFloat(n[this.key]))return 1}return 0},e}();g.decorators=[{type:n.Injectable}],g.ctorParameters=function(){return[]};var u=function(){return function(){}}();u.config={searchEnabled:!1,headerEnabled:!0,orderEnabled:!0,globalSearchEnabled:!1,paginationEnabled:!0,exportEnabled:!1,clickEvent:!0,selectRow:!1,selectCol:!1,selectCell:!1,rows:10,additionalActions:!1,serverPagination:!1,isLoading:!0,detailsTemplate:!1,groupRows:!1,paginationRangeEnabled:!0},u.decorators=[{type:n.Injectable}],u.ctorParameters=function(){return[]};var p={onPagination:0,onOrder:1,onGlobalSearch:2,onSearch:3,onClick:4};p[p.onPagination]="onPagination",p[p.onOrder]="onOrder",p[p.onGlobalSearch]="onGlobalSearch",p[p.onSearch]="onSearch",p[p.onClick]="onClick";var f=function(){function e(){}return e.prototype.error=function(e){console.error(e)},e.prototype.warn=function(e){console.warn(e)},e.prototype.info=function(e){console.log(e)},e.prototype.debug=function(e){console.log(e)},e.prototype.log=function(e){console.log(e)},e}();f.decorators=[{type:n.Injectable}],f.ctorParameters=function(){return[]};var h=function(){function e(e,t,o){this.resource=e,this.cdr=t,this.logger=o,this.grouped=[],this.menuActive=!1,this.page=1,this.count=null,this.selectedDetailsTemplateRowId=null,this.event=new n.EventEmitter,this.id=Math.floor(1e4*Math.random()+1)}return e.prototype.ngOnInit=function(){var e=this;this.configuration&&(u.config=this.configuration),this.config=u.config,this.limit=this.configuration.rows,this.groupRowsBy&&t.Observable.from(this.data).groupBy(function(n){return n[e.groupRowsBy]}).flatMap(function(e){return e.reduce(function(e,n){return d(e,[n])},[])}).subscribe(function(n){return e.grouped.push(n)})},e.prototype.ngAfterViewInit=function(){this.cdr.detectChanges()},e.prototype.ngOnChanges=function(e){var n=this,o=e.data,r=e.pagination;o&&o.currentValue&&(this.data=d(o.currentValue)),r&&r.currentValue&&(this.count=r.currentValue.count),this.groupRowsBy&&t.Observable.from(this.data).groupBy(function(e){return e[n.groupRowsBy]}).flatMap(function(e){return e.reduce(function(e,n){return d(e,[n])},[])}).subscribe(function(e){return n.grouped.push(e)})},e.prototype.orderBy=function(e){u.config.orderEnabled&&(u.config.serverPagination||(this.data=this.resource.sortBy(e),this.data=d(this.data)),this.onOrder(e))},e.prototype.clickedCell=function(e,n,t,o,r){if(u.config.selectRow&&(this.selectedRow=r),u.config.selectCol&&(this.selectedCol=o),u.config.selectCell&&(this.selectedRow=r,this.selectedCol=o),u.config.clickEvent){var a={event:e,row:n,key:t,rowId:r,colId:o};this.emitEvent(p.onClick,a)}},e.prototype.toggleColumn=function(e){var n=new Set(this.columns);n.has(e)?n["delete"](e):n.add(e)},e.prototype.onSearch=function(e){u.config.serverPagination||(this.term=e),this.emitEvent(p.onSearch,e)},e.prototype.onGlobalSearch=function(e){u.config.serverPagination||(this.globalSearchTerm=e),this.emitEvent(p.onGlobalSearch,e)},e.prototype.onPagination=function(e){this.page=e.page,this.limit=e.limit,this.emitEvent(p.onPagination,e)},e.prototype.onOrder=function(e){var n={key:e,order:this.resource.order[e]};this.emitEvent(p.onOrder,n)},e.prototype.emitEvent=function(e,n){this.logger.info("event: "+p[e]+"; value: "+JSON.stringify(n)),this.event.emit({event:p[e],value:n})},e.prototype.selectRowId=function(e){this.selectedDetailsTemplateRowId===e?this.selectedDetailsTemplateRowId=null:this.selectedDetailsTemplateRowId=e},e}();h.decorators=[{type:n.Component,args:[{selector:"ngx-table",providers:[g,f,u],template:'<div class="ngx-container">\n  <div class="ngx-columns">\n    <div class="ngx-column ngx-col-4 ngx-col-mr-auto"></div>\n    <div class="ngx-column ngx-col-3">\n      <global-search\n        *ngIf="config.globalSearchEnabled"\n        (globalUpdate)="onGlobalSearch($event)">\n      </global-search>\n    </div>\n  </div>\n  <div class="ngx-columns">\n    <table class="ngx-table ngx-table-striped ngx-table-hover">\n      <thead>\n      <tr class="ngx-table__header" *ngIf="config.headerEnabled">\n        <ng-container *ngFor="let column of columns">\n          <th class="ngx-table__header-cell"\n              (click)="orderBy(column[\'key\'])">\n            <div class="ngx-d-inline">{{ column[\'title\'] }}</div>\n            <span *ngIf="resource.order[column[\'key\']]===\'asc\' "\n                  [style.display]="config.orderEnabled?\'\':\'none\' "\n                  class="ngx-icon ngx-icon-arrow-up">\n            </span>\n            <span *ngIf="resource.order[column[\'key\']]===\'desc\' "\n                  [style.display]="config.orderEnabled?\'\':\'none\' "\n                  class="ngx-icon ngx-icon-arrow-down">\n            </span>\n          </th>\n        </ng-container>\n        <th *ngIf="config.additionalActions || config.detailsTemplate"\n            class="ngx-table__header-cell-additional-actions">\n          <div class="ngx-dropdown ngx-active ngx-dropdown-right"\n               *ngIf="config.additionalActions"\n               [class.ngx-active]="menuActive">\n            <a class="ngx-btn ngx-btn-link" (click)="menuActive = !menuActive">\n              <span class="ngx-icon ngx-icon-menu"></span>\n            </a>\n            <ul class="ngx-menu ngx-table__table-menu">\n              <li class="ngx-menu-item">\n                <csv-export *ngIf="config.exportEnabled"></csv-export>\n              </li>\n            </ul>\n          </div>\n        </th>\n      </tr>\n      <tr *ngIf="config.searchEnabled"\n          class="ngx-table__sortHeader">\n        <ng-container *ngFor="let column of columns">\n          <th>\n            <table-header (update)="onSearch($event)" [column]="column"></table-header>\n          </th>\n        </ng-container>\n        <th *ngIf="config.additionalActions || config.detailsTemplate"></th>\n      </tr>\n      </thead>\n      <tbody *ngIf="data && !config.isLoading">\n      <ng-container *ngIf="rowTemplate">\n        <tr *ngFor="let row of data | search : term | global : globalSearchTerm | paginate: { itemsPerPage: limit, currentPage: page, totalItems: count, id: id };\n              let rowIndex = index"\n            (click)="clickedCell($event, row, \'\', \'\', rowIndex)"\n            [class.ngx-table__table-row--selected]="rowIndex == selectedRow && !config.selectCell">\n          <ng-container [ngTemplateOutlet]="rowTemplate"\n                        [ngTemplateOutletContext]="{ $implicit: row }">\n          </ng-container>\n        </tr>\n      </ng-container>\n      <ng-container *ngIf="!rowTemplate && !config.groupRows">\n        <ng-container\n          *ngFor="let row of data | search : term | global : globalSearchTerm | paginate: { itemsPerPage: limit, currentPage: page, totalItems: count, id: id };\n                  let rowIndex = index"\n          [class.ngx-table__table-row--selected]="rowIndex == selectedRow && !config.selectCell">\n          <tr>\n            <ng-container *ngFor="let column of columns; let colIndex = index">\n              <td (click)="clickedCell($event, row, column[\'key\'], colIndex, rowIndex)"\n                  [class.ngx-table__table-col--selected]="colIndex == selectedCol && !config.selectCell"\n                  [class.ngx-table__table-cell--selected]="colIndex == selectedCol && rowIndex == selectedRow && !config.selectCol && !config.selectRow"\n              >\n                <div>{{ row[column[\'key\']] }}</div>\n              </td>\n            </ng-container>\n            <td *ngIf="config.additionalActions || config.detailsTemplate">\n              <span class="ngx-icon ngx-c-hand"\n                    [class.ngx-icon-arrow-down]="selectedDetailsTemplateRowId === rowIndex"\n                    [class.ngx-icon-arrow-right]="selectedDetailsTemplateRowId !== rowIndex"\n                    (click)="selectRowId(rowIndex)">\n              </span>\n            </td>\n          </tr>\n          <tr *ngIf="config.detailsTemplate && selectedDetailsTemplateRowId === rowIndex">\n            <td [attr.colspan]="columns.length + 1">\n              <ng-container\n                [ngTemplateOutlet]="detailsTemplate"\n                [ngTemplateOutletContext]="{ $implicit: row }">\n              </ng-container>\n            </td>\n          </tr>\n        </ng-container>\n      </ng-container>\n      <ng-container *ngIf="!rowTemplate && config.groupRows">\n        <ng-container\n          *ngFor="let group of grouped; let rowIndex = index">\n          <tr>\n            <td [attr.colspan]="columns.length">\n              <div>{{group[0][groupRowsBy]}} ({{group.length}})</div>\n            </td>\n            <td>\n              <span class="ngx-icon ngx-c-hand"\n                    [class.ngx-icon-arrow-down]="selectedDetailsTemplateRowId === rowIndex"\n                    [class.ngx-icon-arrow-right]="selectedDetailsTemplateRowId !== rowIndex"\n                    (click)="selectRowId(rowIndex)">\n              </span>\n            </td>\n          </tr>\n          <ng-container *ngIf="selectedDetailsTemplateRowId === rowIndex">\n            <tr *ngFor="let row of group">\n              <td *ngFor="let column of columns">\n                {{row[column[\'key\']]}}\n                \x3c!-- TODO allow users to add groupRowsTemplateRef --\x3e\n              </td>\n              <td></td>\n            </tr>\n          </ng-container>\n        </ng-container>\n      </ng-container>\n      </tbody>\n      <tbody *ngIf="!data">\n      <tr class="ngx-table__body-empty">\n        <td>{{\'- Geen Resultaten -\'}}</td>\n      </tr>\n      </tbody>\n      <tbody *ngIf="config.isLoading">\n      <tr class="ngx-table__body-loading">\n        <td>\n          <div class="ngx-table__table-loader"></div>\n        </td>\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <pagination\n    *ngIf="config.paginationEnabled"\n    [id]="id"\n    [pagination]="pagination"\n    (updateRange)="onPagination($event)">\n  </pagination>\n</div>\n',styles:["*{font-family:Verdana,serif}.ngx-table__table-cell--selected,.ngx-table__table-col--selected,.ngx-table__table-row--selected{background:#9cbff9!important}.ngx-table__table-loader{border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;height:20px;width:20px;margin-left:auto;margin-right:auto;-webkit-animation:1s linear infinite spin;animation:1s linear infinite spin}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}"],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],h.ctorParameters=function(){return[{type:g},{type:n.ChangeDetectorRef},{type:f}]},h.propDecorators={configuration:[{type:n.Input}],data:[{type:n.Input}],pagination:[{type:n.Input}],groupRowsBy:[{type:n.Input}],detailsTemplate:[{type:n.Input}],columns:[{type:n.Input}],event:[{type:n.Output}],rowTemplate:[{type:n.ContentChild,args:[n.TemplateRef]}]};var m=function(){return function(){this.globalUpdate=new n.EventEmitter}}();m.decorators=[{type:n.Component,args:[{selector:"global-search",template:'<label class="form-label ngx-float-right" for="search">\n  <input type="text"\n         id="search"\n         class="ngx-table__global-search ngx-form-input ngx-input-sm"\n         #input\n         (input)="globalUpdate.emit({value: input.value})"\n         placeholder="Search"/>\n</label>\n'}]}],m.ctorParameters=function(){return[]},m.propDecorators={globalUpdate:[{type:n.Output}]};var b=function(){function e(e){this.resource=e}return e.prototype.transform=function(e,n){var t=this;if(void 0!==e)return void 0===n||0===Object.keys(n).length||""===n?e:(this.resource.data=[],e.forEach(function(e){for(var o in e)if(e.hasOwnProperty(o)){var r=void 0;if("object"==typeof e[o]&&(r=JSON.stringify(e[o]).toLocaleLowerCase()),"boolean"==typeof e[o]&&(r=""+e[o]),"string"==typeof e[o]&&(r=e[o].toLocaleLowerCase()),"number"==typeof e[o]&&(r=""+e[o]),r.indexOf(n.value.toLocaleLowerCase())>=0)return void t.resource.data.push(e)}}),this.resource.data)},e}();b.decorators=[{type:n.Pipe,args:[{name:"global"}]}],b.ctorParameters=function(){return[{type:g}]};var x=function(){function e(e){this.resource=e}return e.prototype.transform=function(e,n){var t=this;if(void 0!==e){if(this.resource.data=e.slice(),void 0===n||0===Object.keys(n).length)return this.resource.data;var o=[];return o[n.key]=n.value,e.forEach(function(e){for(var n in o)if(o.hasOwnProperty(n)){var r="";if("string"==typeof e[n]&&(r=e[n].toLocaleLowerCase()),"object"==typeof e[n]&&(r=JSON.stringify(e[n])),"number"==typeof e[n]&&(r=e[n].toString()),"boolean"==typeof e[n]&&(r=e[n].toString()),-1===r.indexOf(o[n].toLocaleLowerCase()))return void t.resource.data.splice(t.resource.data.indexOf(e),1)}}),this.resource.data}},e}();x.decorators=[{type:n.Pipe,args:[{name:"search"}]}],x.ctorParameters=function(){return[{type:g}]};var y=function(){return function(){this.update=new n.EventEmitter}}();y.decorators=[{type:n.Component,args:[{selector:"table-header",template:'\n    <label for="search_{{ column[\'key\'] }}">\n      <div class="input-group mb-3  pt-3">\n        <span class="input-group-addon"><i _ngcontent-c3="" class="fa fa-search"></i></span>\n        <input type="text"\n               id="search_{{ column[\'key\'] }}"\n               aria-label="Zoek"\n               placeholder="Zoek: {{ column[\'title\'] }}"\n               class="ngx-table__header-search ngx-form-input ngx-input-sm form-control"\n               #input\n               (input)="update.emit({value: input.value, key: column[\'key\']})">\n      </div>\n    </label>'}]}],y.ctorParameters=function(){return[]},y.propDecorators={column:[{type:n.Input}],update:[{type:n.Output}]};var v=function(){function e(){this.updateRange=new n.EventEmitter,this.ranges=[5,10,25,50,100],this.limit=u.config.rows,this.showRange=!1}return e.prototype.onPageChange=function(e){this.updateRange.emit({page:e,limit:this.limit})},e.prototype.changeLimit=function(e){this.showRange=!this.showRange,this.limit=e,this.updateRange.emit({page:1,limit:e})},e.prototype.ngOnInit=function(){this.config=u.config},e}();v.decorators=[{type:n.Component,args:[{selector:"pagination",template:'<div class="ngx-columns">\n  <div class="ngx-col-mr-auto pagination-mobile">\n    <pagination-controls\n      [id]="id"\n      [maxSize]="5"\n      [previousLabel]="\'\'"\n      [nextLabel]="\'\'"\n      (pageChange)="onPageChange($event)">\n    </pagination-controls>\n  </div>\n  <div class="pagination-mobile" *ngIf="config.paginationRangeEnabled">\n    <div class="ngx-dropdown ngx-range-dropdown ngx-float-right"\n         [class.ngx-active]="showRange"\n         id="rowAmount">\n      <div class="ngx-btn-group">\n        <div class="ngx-btn ngx-range-dropdown-button"\n              (click)="showRange = !showRange">\n          {{limit}} <i class="ngx-icon ngx-icon-arrow-down"></i>\n        </div>\n        <ul class="ngx-menu">\n          <li class="ngx-c-hand ngx-range-dropdown-button"\n              (click)="changeLimit(limit)"\n              *ngFor="let limit of ranges">\n            <span>{{limit}}</span>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n',styles:[":host /deep/ pagination-controls>pagination-template>ul>li{border:1px solid #f0f0f0}.ngx-btn{color:#4f596c;border:1px solid #f0f0f0}.ngx-range-dropdown{margin-top:8px;margin-right:2px}.ngx-range-dropdown-button{padding:4px}.ngx-menu{min-width:55px}@media screen and (max-width:480px){.pagination-mobile{margin-right:auto;margin-left:auto}}"],changeDetection:n.ChangeDetectionStrategy.OnPush}]}],v.ctorParameters=function(){return[]},v.propDecorators={pagination:[{type:n.Input}],id:[{type:n.Input}],updateRange:[{type:n.Output}]};var w=function(){function e(e){this.resource=e}return e.prototype.exportCsv=function(){var e=this.resource.data,n="data:text/csv;charset=utf-8,",t="",o=[],r=Object.keys(this.resource.data[0]);e.forEach(function(e,n){o[n]=[],r.forEach(function(t){e.hasOwnProperty(t)&&("object"==typeof e[t]&&(e[t]="Object"),o[n].push(e[t]))})}),n+=r+"\n",o.forEach(function(o,r){t=o.join(","),n+=r<e.length?t+"\n":t});var a=encodeURI(n),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download","my_data.csv"),i.click()},e}();w.decorators=[{type:n.Component,args:[{selector:"csv-export",template:'\n    <a (click)="exportCsv()">\n      CSV export\n    </a>'}]}],w.ctorParameters=function(){return[{type:g}]};var I=function(){return function(){}}();I.decorators=[{type:n.NgModule,args:[{declarations:[h,m,w,y,v,x,b],imports:[s.CommonModule,c.NgxPaginationModule],exports:[h]}]}],I.ctorParameters=function(){return[]};var k=function(){return function(){}}();k.decorators=[{type:n.NgModule,args:[{imports:[s.CommonModule,I],bootstrap:[h],exports:[h],providers:[]}]}],k.ctorParameters=function(){return[]},e.TableModule=k,e.ɵb=h,e.ɵa=I,e.ɵg=w,e.ɵf=m,e.ɵh=y,e.ɵi=v,e.ɵk=b,e.ɵj=x,e.ɵe=u,e.ɵd=f,e.ɵc=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-easy-table.umd.min.js.map
